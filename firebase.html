<html>
<head>
<title>Firebase example</title>

<!-- installs the firebase client -->
<script src='https://cdn.firebase.com/v0/firebase.js'></script>
<script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
<script src="js/google_map.js"></script>

<link href="http://code.google.com//apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css">

<style type="text/css">

p {
  font-size: 2em;
}

#map-canvas {
  height: 400px;
  width: 400px;
  margin: 0 auto;
  display: none;
}

</style>


</head>
<body>

<form id="">
<label>Your username: </label><input type="text" id="userName">
</form>

<p id="demo">Click the button to get your coordinates:</p>
<button onclick="startGeolocation()">Try It</button>
    
    <script type="text/javascript">
    
    //var x=document.getElementById("demo");
    //    function startGeolocation() {
    //    var options;
    //    navigator.geolocation.getCurrentPosition(geoSuccess, options);
    //    setInterval(startGeolocation, 1000);
    //    }

    //    function geoSuccess(position) {
    //    var gpsPosition = position;
    //    var coordinates = gpsPosition.coords;
    //    myLat = coordinates.latitude;
    //    myLong = coordinates.longitude;
    //    x.innerHTML="Latitude: " + myLat + 
    //    "<br>Longitude: " + myLong;

//}

</script>

    <div id="map-canvas"></div>


<script type="text/javascript">

var invalidUser=['bajs','kiss','fitta','kuk','slida','anus','slidor','slidan','fittan','kuken','anusen','kukar','666',''];
     
   var myDataRef = new Firebase('https://leastflyingwasps.firebaseio.com/');

   $('#userName').keypress(function (e) {
    if (e.keyCode == 13) {
       var name = $('#userName').val();

       if ($.inArray(name, invalidUser) != -1) {
           alert('Not a valid username')
       }
       else {
           var myDataRef = new Firebase('https://leastflyingwasps.firebaseio.com/');
           myDataRef.push({ name: name });
          
          localStorage.setItem('userName', name);
          var userName = localStorage.getItem('userName');
          alert('your username is: ' + userName);

       }
   }

});

   </script>

</body>
</html>